{"ts":1393658551247,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<!DOCTYPE html>\n<html lang=\"jp\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta name=\"description\" content=\"\">\n    <meta name=\"author\" content=\"\">\n    <link rel=\"shortcut icon\" href=\"../../docs-assets/ico/favicon.png\">\n    <title>TOP</title>\n\n    <!-- common_config.jsから変数を受け取るための苦肉の策、scriptへの変数の渡し方がdocument.getElementByIdしかわからないので・・・-->\n    <input type=\"hidden\" id=\"configUrl\" value= <%= page.url%> >    \n    <input type=\"hidden\" id=\"configPort\" value= <%= page.port%> >\n\n    <!-- Bootstrap & jQuery JS & CSS -->\n    <script src=\"/js/jquery-1.10.2.min.js\"></script>\n    <script src=\"/js/bs3.0.3/bootstrap.min.js\"></script>\n    <link rel='stylesheet' href='/css/bs3.0.3/bootstrap.css' />\n\n    <!-- alertify JS & CSS -->\n    <script src=\"/js/alertify.js\"></script>\n    <link rel=\"stylesheet\" href=\"/css/alertify.core.css\" />\n    <link rel=\"stylesheet\" href=\"/css/alertify.default.css\" />\n \n    <!-- Default CSS -->\n    <link rel='stylesheet' href='/css/style.css' />\n\n    <!-- icons from glyphicons -->\n    <link href=\"//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css\" rel=\"stylesheet\" />\n\n    <!-- socket.IO -->\n    <script src=\"/socket.io/socket.io.js\"></script>\n    <script type=\"text/javascript\">\n        var socket = io.connect(\"http://\" + document.getElementById(\"configUrl\").value + \":\" + document.getElementById(\"configPort\").value);\n\n        // connectメッセージを受けたとき\n        socket.on('connect', function(msg) {\n                document.getElementById(\"connectId\").innerHTML =\n                \"あなたの接続ID::\" + socket.socket.transport.sessid;\n                document.getElementById(\"type\").innerHTML =\n                \"接続方式::\" + socket.socket.transport.name;\n        });\n                \n        // messageメッセージを受けたとき\n        socket.on('message', function(msg) {\n            // メッセージを画面に表示する\n            alertify.success(\"id=\" + msg.value + \"の商品をカートへ追加しました\");\n        });\n        \n        // disconnectionメッセージを受けたとき\n        socket.on('disconnection', function(msg) {\n            // メッセージを画面に表示する\n            document.getElementById(\"receiveMsg\").innerHTML = '切断されました';\n            socket.disconnect();\n        });\n\n        // messageメッセージを送る\n        function SendMsg(item_id) {\n            var msg = item_id;\n            socket.emit('message', { value: msg });\n        }\n        \n        // disconnectionメッセージを送る\n        function DisConnect() {\n            var msg = socket.socket.transport.sessid + \"は切断しました。\";\n            socket.emit('disconnection', { value: msg });\n        }\n    </script>\n \n\n  </head>\n\n  <body class=\"top-margin70\" onload=\"document.forms[0].keyword.focus();\">\n  \n    <!-- NaviBar -->\n    <div class=\"navbar navbar-inverse navbar-fixed-top\">\n      <div class=\"container\">\n        <div class=\"navbar-header\">\n          <a class=\"navbar-brand\" href=\"#\"><span class=\"glyphicon glyphicon-th\"></span> Rental Manage</a>\n        </div>\n\n        <div class=\"collapse navbar-collapse\">\n          <ul class=\"nav navbar-nav pull-right\">\n            <li class=\"nav-divider\"></li>\n            <li class=\"dropdown\">\n              <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\"><span class=\"glyphicon glyphicon-user\"></span><%= page.user_account %><b class=\"caret\"></b></a>\n                <ul class=\"dropdown-menu\">\n                  <li><a href=\"#user_setting\"><span class=\"glyphicon glyphicon-edit\"></span> ユーザー設定の変更</a></li>\n                  <li><a href=\"#service_setting\"><span class=\"glyphicon glyphicon-check\"></span> サービス設定の変更</a></li>\n                  <li><a href=\"#logout\"><span class=\"glyphicon glyphicon-off\"></span> ログアウト</a></li>\n                </ul>\n            </li>\n          </ul>\n        </div>\n\n      </div>\n    </div>\n\n    <!-- Main -->\n    <div class=\"container\">\n\n    \n<!--\n      <div id=\"connectId\"></div>\n      <div id=\"type\"></div>\n      <div id=\"receiveMsg\"></div>\n      <input type=\"button\" value=\"切断する\" onclick=\"DisConnect()\">\n-->\n\n        <div class=\"row\">\n            <div class=\"col col-sm-2\">\n            </div>\n            \n            <div class=\"col col-sm-4\">\n                <!-- TOP検索 -->\n                <form action=\"/top\" method=\"post\" class=\"right\">\n                    <div class=\"form-group\">\n                        <input class=\"form-control input-sm\" type=\"text\" name=\"keyword\" placeholder=\"キーワードまたはバーコード読み込み\">\n                    </div>\n                </form>\n            </div>\n    \n            <div class=\"col col-sm-2 left\">\n                <!-- TOP検索 -->\n                <button type=\"submit\" class=\"btn btn-primary btn-sm left\" onClick=\"document.forms[0].submit()\">検索</button>\n            </div>\n    \n            <div class=\"col col-sm-4 right\">\n              <!-- TOPカート -->\n                <button class=\"btn btn btn-success btn-sm\" onClick=\"location.href='cart'\"><span class=\"glyphicon glyphicon-shopping-cart\"></span> カート</button>\n            </div>\n        </div>\n      \n        <div class=\"row top-margin20\">\n            <!-- TOP画面左 -->\n            <div class=\"col col-sm-2\">\n                <!-- TOP画面ユーザーメニュー -->\n                <div class=\"well\" style=\"padding: 10px 0;\">\n                    <ul class=\"nav nav-list\">\n                        <li><a href=\"top\" class=\"toplist-home\"><span class=\"glyphicon glyphicon-home\"></span><b> home</b></a></li>\n                        <li><span class=\"toplist-category\"><b>　　カテゴリ</b></span></li>\n                        <li><a href=\"#items\" class=\"toplist\">　　　大皿</a></li>\n                        <li><a href=\"#reports\" class=\"toplist\">　　　その他</a></li>\n                    </ul>\n                </div>\n            </div>\n    \n            <!-- TOP画面右 -->\n            <div class=\"col col-sm-10\">\n                <% if(page.data.length == 0) {%>\n                    <p><b>最近のおすすめ商品</b></p>\n                    <p></p>\n                    <p></p>\n                    <p></p>\n                    <p></p>\n                    <p></p>\n                    <p></p>\n                    <p>検索HITは０件です。</p>\n                <% } %>\n    \n                <!-- 検索結果のid数でループ -->\n                <% for(var i=0; i<page.data.length; i++) {%>\n                    <li class=\"col col-sm-3\">\n                        <div class=\"thumbnail\">\n                            <p>No.<%= page.data[i].item_no %></p>\n                            <img src= <%= \"/img/item_img/item_id_\" + page.data[i].item_id + \".jpg\" %> alt=\"\">\n                            <div class=\"caption\">\n                                <p><%= page.data[i].item_name %></p>\n                                <p><%= page.data[i].item_description %></p>\n                                <input type=\"hidden\" id=\"id\" value=<%= page.data[i].item_no %>>\n                                <button_add type=\"button\" class=\"btn btn-primary btn-sm\" onclick=\"SendMsg('<%= page.data[i].item_id %>')\">カートへ</button_add type>\n                            </div>\n                        </div>\n                    </li>\n                <% } %>\n            </div>\n        </div>\n    </div>\n  </body>\n</html>\n\n"]],"start1":0,"start2":0,"length1":0,"length2":7104}]],"length":7104}
