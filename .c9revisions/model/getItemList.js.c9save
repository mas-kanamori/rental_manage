{"ts":1392891725535,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/*\n * 商品マスタから商品情報を取得する\n */\n \nvar database = require(\"../dao/database\");\nvar client = database.createClient();\n//var log = require(\"../util/logger\");\n//var logger = log.createLogger();\nvar async = require('async');\n\n/* 檀家追加画面メイン（post処理） */\nexports.main = function(callback){\n    // いったんはpostで入ってきたデータは正しい想定で作る\n    \n    var itemListInfo = [];\n\n    async.series([\n\n        // 商品マスタから僧のリストを取得\n        function (dbcallback) {\n            getItemList(itemListInfo, dbcallback);\n                             console.log('aaaaaaaaa');\n        }],\n        // 【END】トランザクション完了(commit or rollback)\n        function (err, results) {\n            if (err) {\n                callback(true);\n                return;\n            }\n            callback(false, itemListInfo);\n            return;\n        }\n    );\n};\n\n/* 檀家追加画面でtiku&sewaninボックスの表示の利用（get処理） */\nexports.getItemList = function(keyword,callback){\n  \n  var query = client.query('SELECT id, create_user, create_date, update_user, update_date, is_disabled,is_disabled, item_id, item_name, item_description, item_tag FROM m_item where is_disabled = FALSE and is_disabled = FALSE and item_tag like $1',[keyword]);\n  \n  \n  var rows = [];\n  query.on('row', function(row) {\n           rows.push(row);\n           });\n  \n  query.on('end', function(row,err) {\n           callback(rows);\n           return;\n           });\n};\n\n"]],"start1":0,"start2":0,"length1":0,"length2":1357}]],"length":1357}
{"contributors":[],"silentsave":false,"ts":1392891871291,"patch":[[{"diffs":[[0,"面メイン（post処理） */\n"],[1,"/* **今は使えていないが、いずれはasyncをつかった方式を実装したい** */\n\n"],[0,"exports.main = f"]],"start1":223,"start2":223,"length1":32,"length2":76}]],"length":1401,"saved":false}
{"ts":1392891882301,"patch":[[{"diffs":[[0,"たい** */\n"],[1,"/*"],[0,"\nexports"]],"start1":274,"start2":274,"length1":16,"length2":18},{"diffs":[[0,"   );\n};"],[1,"\n*/"],[0,"\n\n/* 檀家追"]],"start1":833,"start2":833,"length1":16,"length2":19}]],"length":1406,"saved":false}
{"ts":1392893949350,"patch":[[{"diffs":[[0,"SELECT i"],[-1,"d"],[1,"tem_no"],[0,", create"]],"start1":970,"start2":970,"length1":17,"length2":22}]],"length":1411,"saved":false}
{"ts":1392893975676,"patch":[[{"diffs":[[0,"tem_"],[-1,"no"],[1,"id"],[0,", cr"]],"start1":978,"start2":978,"length1":10,"length2":10},{"diffs":[[0,"d, item_"],[-1,"id"],[1,"no"],[0,", item_n"]],"start1":1060,"start2":1060,"length1":18,"length2":18}]],"length":1411,"saved":false}
