{"ts":1392907464174,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"// ここにsocket message系jsファイルを外出ししたいのに・・・"]],"start1":0,"start2":0,"length1":0,"length2":39}]],"length":39}
{"contributors":[],"silentsave":false,"ts":1392907841658,"patch":[[{"diffs":[[0,"したいのに・・・"],[1,"\n\nexports.receiveMassage = function(server){\n\nvar socketIO = require('socket.io');\n\n// soclet.IOサーバーの起動(node.jsサーバーのIPアドレスとポート番号を結びつけ)\nvar io = socketIO.listen(server);\n\n// クライアントが接続してきたときの処理\nio.sockets.on('connection', function(socket) {\n              console.log(\"connection\");\n              // メッセージを受けたときの処理\n              socket.on('message', function(data) {\n                        // つながっているクライアント全員に送信\n                        console.log(\"Serverがメッセージ：message　を受け取りました\");\n                        \n                        // カートへの追加処理\n                        var pushCart = require(\"./model/pushCart\");\n                        var item_id = data.value;\n                        \n                        pushCart.pushAddItem(item_id);\n                        console.log(\"カートにitem_id:\" + item_id +' の商品を追加しました');\n                        \n                        // カートへの追加処理終わり\n                        io.sockets.emit('message', { value: data.value });\n                        \n                        });\n              \n              \n              // クライアントが切断したときの処理\n              socket.on('disconnect', function(){\n                        console.log(\"disconnect\");\n                        });\n              \n              \n              });\n}"]],"start1":31,"start2":31,"length1":8,"length2":1261}]],"length":1292,"saved":false}
{"ts":1392907893943,"patch":[[{"diffs":[[0,"quire(\"."],[1,"."],[0,"/model/p"]],"start1":622,"start2":622,"length1":16,"length2":17}]],"length":1293,"saved":false}
{"ts":1392908140324,"patch":[[{"diffs":[[0,"eMassage"],[1,"s"],[0," = funct"]],"start1":55,"start2":55,"length1":16,"length2":17}]],"length":1294,"saved":false}
{"contributors":[],"silentsave":false,"ts":1392908698112,"patch":[[{"diffs":[[0,"n(server"],[1,",callback"],[0,"){\n\nvar "]],"start1":74,"start2":74,"length1":16,"length2":25},{"diffs":[[0,"    });\n"],[1,"callback(null);\nreturn;\n"],[0,"}"]],"start1":1294,"start2":1294,"length1":9,"length2":33}]],"length":1327,"saved":false}
{"ts":1392908758384,"patch":[[{"diffs":[[0,"(null);\n"],[1,"//"],[0,"return;\n"]],"start1":1310,"start2":1310,"length1":16,"length2":18}]],"length":1329,"saved":false}
{"ts":1392908995114,"patch":[[{"diffs":[[0,"n(socket) {\n"],[-1,"          "],[0,"    console."]],"start1":276,"start2":276,"length1":34,"length2":24},{"diffs":[[0,"        "],[-1,"      "],[0,"// メッセージ"]],"start1":319,"start2":319,"length1":22,"length2":16},{"diffs":[[0,"けたときの処理\n        "],[-1,"    "],[-1,"  "],[0,"socket.on('messa"]],"start1":337,"start2":337,"length1":38,"length2":32},{"diffs":[[0,"data) {\n"],[-1,"                "],[1,"\n"],[0,"        "]],"start1":383,"start2":383,"length1":32,"length2":17},{"diffs":[[0,"ント全員"],[-1,"に送信\n                        console.log(\"Serverがメッセージ：message　を受け取りました\");\n                        \n                "],[1,"が対象???\n"],[0,"    "]],"start1":414,"start2":414,"length1":123,"length2":15},{"diffs":[[0,"トへの追加処理\n"],[-1,"                "],[0,"        "]],"start1":438,"start2":438,"length1":32,"length2":16},{"diffs":[[0,"Cart\");\n"],[-1,"                "],[0,"        "]],"start1":491,"start2":491,"length1":32,"length2":16},{"diffs":[[0,"    "],[-1,"                \n                "],[1,"\n"],[0,"    "]],"start1":537,"start2":537,"length1":41,"length2":9},{"diffs":[[0,"em_id);\n"],[-1,"                "],[0,"        "]],"start1":573,"start2":573,"length1":32,"length2":16},{"diffs":[[0,"    "],[-1,"                \n                "],[1,"\n"],[0,"    "]],"start1":647,"start2":647,"length1":41,"length2":9},{"diffs":[[0,"追加処理終わり\n"],[-1,"                "],[0,"        "]],"start1":668,"start2":668,"length1":32,"length2":16},{"diffs":[[0,"    "],[-1,"                \n                "],[1,"\n"],[0,"    "]],"start1":739,"start2":739,"length1":41,"length2":9},{"diffs":[[0,"nect\");\n"],[-1,"            "],[0,"        "]],"start1":913,"start2":913,"length1":28,"length2":16}]],"length":1012,"saved":false}
{"ts":1392909437770,"patch":[[{"diffs":[[0,"back){\n\n"],[1,"    "],[0,"var sock"]],"start1":87,"start2":87,"length1":16,"length2":20},{"diffs":[[0,"t.io');\n"],[-1,"\n"],[1,"    \n    "],[0,"// socle"]],"start1":128,"start2":128,"length1":17,"length2":25},{"diffs":[[0,"号を結びつけ)\n"],[1,"    "],[0,"var io ="]],"start1":188,"start2":188,"length1":16,"length2":20},{"diffs":[[0,"erver);\n"],[-1,"\n"],[1,"    \n    "],[0,"// クライアン"]],"start1":226,"start2":226,"length1":17,"length2":25},{"diffs":[[0,"きたときの処理\n"],[1,"    "],[0,"io.socke"]],"start1":257,"start2":257,"length1":16,"length2":20},{"diffs":[[0,"cket) {\n    "],[1,"   "],[1," "],[0,"console.log("]],"start1":308,"start2":308,"length1":24,"length2":28},{"diffs":[[0,"le.log(\""],[1,"--------"],[0,"connecti"]],"start1":329,"start2":329,"length1":16,"length2":24},{"diffs":[[0,"nnection"],[1,"--------"],[0,"\");\n    "]],"start1":347,"start2":347,"length1":16,"length2":24},{"diffs":[[0,"     // "],[1,"message"],[0,"メッセージを受け"]],"start1":370,"start2":370,"length1":16,"length2":23},{"diffs":[[0,"        "],[1,"    "],[0,"// つながって"]],"start1":447,"start2":447,"length1":16,"length2":20},{"diffs":[[0,"員が対象???\n        "],[1,"  "],[1,"  "],[0,"// カートへの追加処理\n   "]],"start1":476,"start2":476,"length1":32,"length2":36},{"diffs":[[0,"トへの追加処理\n"],[1,"    "],[0,"        "]],"start1":501,"start2":501,"length1":16,"length2":20},{"diffs":[[0,"\");\n        "],[1,"  "],[1,"  "],[0,"var item_id "]],"start1":562,"start2":562,"length1":24,"length2":28},{"diffs":[[0,".value;\n        "],[-1,"\n"],[1,"    \n            // カートにクリックしたitem_idを追加\n    "],[0,"        pushCart"]],"start1":596,"start2":596,"length1":33,"length2":77},{"diffs":[[0,"em_id);\n        "],[1,"    //"],[0,"console.log(\"カート"]],"start1":688,"start2":688,"length1":32,"length2":38},{"diffs":[[0,"しました');\n        "],[-1,"\n"],[1,"    \n    "],[0,"        // カートへの"]],"start1":756,"start2":756,"length1":33,"length2":41},{"diffs":[[0,"追加処理終わり\n"],[1,"    "],[0,"        "]],"start1":797,"start2":797,"length1":16,"length2":20},{"diffs":[[0,"       \n"],[-1,"              \n      "],[0,"        "]],"start1":896,"start2":896,"length1":37,"length2":16},{"diffs":[[0,"したときの処理\n"],[-1,"      "],[0,"        "]],"start1":924,"start2":924,"length1":22,"length2":16},{"diffs":[[0,"        "],[-1,"       "],[-1,"     "],[0,"console."]],"start1":980,"start2":980,"length1":28,"length2":16},{"diffs":[[0,"le.log(\""],[1,"--------"],[0,"disconne"]],"start1":993,"start2":993,"length1":16,"length2":24},{"diffs":[[0,"sconnect"],[1,"--------"],[0,"\");\n    "]],"start1":1011,"start2":1011,"length1":16,"length2":24},{"diffs":[[0,"    "],[-1,"  "],[-1,"  "],[0,"});\n"],[-1,"              \n              \n          "],[0,"    "]],"start1":1035,"start2":1035,"length1":56,"length2":12},{"diffs":[[0,"l);\n"],[-1,"//return;\n"],[0,"}"]],"start1":1063,"start2":1063,"length1":15,"length2":5}]],"length":1068,"saved":false}
{"ts":1392909493383,"patch":[[{"diffs":[[0,"    });\n"],[1,"    \n"],[0,"callback"]],"start1":1043,"start2":1043,"length1":16,"length2":21},{"diffs":[[0,"(null);\n"],[1,"\n"],[0,"}"]],"start1":1064,"start2":1064,"length1":9,"length2":10}]],"length":1074,"saved":false}
{"ts":1392909822017,"patch":[[{"diffs":[[0,"cket) {\n"],[1,"        \n"],[0,"        "]],"start1":308,"start2":308,"length1":16,"length2":25},{"diffs":[[0,"tion--------\");\n"],[1,"\n"],[0,"        // messa"]],"start1":360,"start2":360,"length1":32,"length2":33}]],"length":1084,"saved":false}
{"ts":1392909834334,"patch":[[{"diffs":[[0,"cket) {\n"],[-1,"        \n"],[0,"        "]],"start1":308,"start2":308,"length1":25,"length2":16}]],"length":1075,"saved":false}
{"ts":1392910034928,"patch":[[{"diffs":[[0,"ata) {\n\n"],[1,"            console.log(\"カートにitem_id:\" + item_id +' の商品を追加しました');\n\n"],[0,"        "]],"start1":440,"start2":440,"length1":16,"length2":83},{"diffs":[[0,"--------\");\n"],[1,"            // カートへの追加処理終わり\n            io.sockets.emit('disconnect', { value: null });\n"],[0,"        });\n"]],"start1":1087,"start2":1087,"length1":24,"length2":112}]],"length":1230,"saved":false}
{"ts":1392910365851,"patch":[[{"diffs":[[0,"sconnect"],[1,"222"],[0,"', funct"]],"start1":1021,"start2":1021,"length1":16,"length2":19}]],"length":1233,"saved":false}
{"ts":1392910367890,"patch":[[{"diffs":[[0,"connect2"],[-1,"22"],[0,"', funct"]],"start1":1022,"start2":1022,"length1":18,"length2":16}]],"length":1231,"saved":false}
{"ts":1392910375140,"patch":[[{"diffs":[[0,"sconnect"],[1,"2"],[0,"', { val"]],"start1":1159,"start2":1159,"length1":16,"length2":17}]],"length":1232,"saved":false}
{"ts":1392910613834,"patch":[[{"diffs":[[0,"sconnect"],[-1,"2"],[1,"ion"],[0,"', funct"]],"start1":1021,"start2":1021,"length1":17,"length2":19},{"diffs":[[0,"sconnect"],[1,"ion"],[0,"--------"]],"start1":1082,"start2":1082,"length1":16,"length2":19},{"diffs":[[0,"nect"],[-1,"2"],[1,"ion"],[0,"', {"]],"start1":1168,"start2":1168,"length1":9,"length2":11}]],"length":1239,"saved":false}
{"ts":1392910818172,"patch":[[{"diffs":[[0," // "],[-1,"クライアントが切断し"],[1,"disconnectionメッセージを受け"],[0,"たときの"]],"start1":979,"start2":979,"length1":18,"length2":29}]],"length":1250,"saved":false}
{"ts":1392910847220,"patch":[[{"diffs":[[0," {\n\n"],[-1,"            console.log(\"カートにitem_id:\" + item_id +' の商品を追加しました');\n\n"],[0,"    "]],"start1":444,"start2":444,"length1":75,"length2":8},{"diffs":[[0,"員が対象???\n"],[1,""],[0,"        "]],"start1":477,"start2":477,"length1":16,"length2":16},{"diffs":[[0,"   \n"],[-1,"            // カートへの追加処理終わり\n"],[0,"    "]],"start1":774,"start2":774,"length1":36,"length2":8},{"diffs":[[0,"\");\n"],[-1,"            // カートへの追加処理終わり"],[0,"\n   "]],"start1":1017,"start2":1017,"length1":35,"length2":8}]],"length":1128,"saved":false}
{"ts":1392910880917,"patch":[[{"diffs":[[0,"/"],[-1,"/ ここに"],[1,"*\n * "],[0,"socket"],[-1," message系jsファイルを外出ししたいのに・・・"],[1,".IOサーバーを起動し、メッセージを処理する\n */"],[0,"\n\nex"]],"start1":0,"start2":0,"length1":43,"length2":42}]],"length":1127,"saved":false}
